.mobile-calendar-view {
   display: flex;
   flex-direction: column;
   height: 100vh;
   background: white;
   overflow: hidden;
}

.mobile-calendar-view > .schedule-content {
   flex: 1;
   overflow-y: auto;
   padding-bottom: 73px;
}

/* 모바일 헤더 */
.mobile-header {
   background: white;
   border-bottom: 1px solid #e5e7eb;
   padding: 8px 12px;
   flex-shrink: 0;
}

.mobile-header-content {
   display: flex;
   align-items: center;
   justify-content: space-between;
   gap: 8px;
}

.mobile-header-left {
   display: flex;
   align-items: center;
   gap: 8px;
}

.mobile-header-right {
   display: flex;
   align-items: center;
   gap: 6px;
}

.mobile-menu-btn {
   background: none;
   border: none;
   color: #4b5563;
   padding: 4px;
   cursor: pointer;
   display: flex;
   align-items: center;
   justify-content: center;
}

.mobile-logo-btn {
   display: flex;
   align-items: center;
   background: none;
   border: none;
   cursor: pointer;
   padding: 0;
}

.mobile-logo-img {
   width: 32px;
   height: 32px;
   border-radius: 6px;
   object-fit: cover;
}

.mobile-logo-text {
   font-size: 16px;
   font-weight: 700;
   color: #1f2937;
   margin: 0;
}

.mobile-icon-btn {
   width: 32px;
   height: 32px;
   background: #f3f4f6;
   color: #6b7280;
   border: none;
   border-radius: 50%;
   display: flex;
   align-items: center;
   justify-content: center;
   cursor: pointer;
   transition: all 0.2s;
}

.mobile-icon-btn:hover {
   background: #e5e7eb;
}

.mobile-icon-btn.active {
   background: #dbeafe;
   color: #3b82f6;
}

.mobile-profile-btn {
   min-width: 32px;
   height: 28px;
   background: #dbeafe;
   color: #3b82f6;
   border: none;
   border-radius: 14px;
   padding: 0 10px;
   font-size: 12px;
   font-weight: 600;
   cursor: pointer;
   display: flex;
   align-items: center;
   justify-content: center;
   white-space: nowrap;
   max-width: 80px;
   overflow: hidden;
   text-overflow: ellipsis;
}

.mobile-voice-btn {
   width: 32px;
   height: 32px;
   background: none;
   border: none;
   font-size: 18px;
   cursor: pointer;
   display: flex;
   align-items: center;
   justify-content: center;
}

.mobile-logout-btn {
   width: 32px;
   height: 32px;
   background: #fee2e2;
   color: #dc2626;
   border: none;
   border-radius: 50%;
   display: flex;
   align-items: center;
   justify-content: center;
   cursor: pointer;
   transition: background 0.2s;
}

.mobile-logout-btn:hover {
   background: #fecaca;
}

.mobile-logout-btn:active {
   background: #fca5a5;
}

/* 헤더 버튼 통일 스타일 */
.mobile-header-btn {
   min-width: 32px;
   height: 32px;
   background: #f3f4f6;
   color: #374151;
   border: none;
   border-radius: 16px;
   padding: 0 12px;
   font-size: 13px;
   font-weight: 500;
   cursor: pointer;
   display: flex;
   align-items: center;
   justify-content: center;
   transition: all 0.2s;
}

.mobile-header-btn:hover {
   background: #e5e7eb;
}

.mobile-header-btn.logout {
   background: #fee2e2;
   color: #dc2626;
   padding: 0;
   width: 32px;
}

.mobile-header-btn.logout:hover {
   background: #fecaca;
}

/* 로그인 상태 인디케이터 */
.mobile-logo-wrapper {
   position: relative;
   width: 32px;
   height: 32px;
   margin-right: 10px;
}

.mobile-login-indicator {
   position: absolute;
   top: -2px;
   right: -2px;
   width: 10px;
   height: 10px;
   border-radius: 50%;
   border: 2px solid white;
}

.mobile-login-indicator.google {
   background: #22c55e; /* 초록색 - 구글 로그인 */
}

.mobile-login-indicator.local {
   background: #ef4444; /* 빨간색 - 일반 로그인 */
}

/* 사이드바 */
.sidebar-overlay {
   position: fixed;
   top: 0;
   left: 0;
   right: 0;
   bottom: 0;
   background: rgba(0, 0, 0, 0.5);
   z-index: 1000;
}

.mobile-sidebar {
   position: fixed;
   top: 0;
   left: 0;
   bottom: 0;
   width: 280px;
   background: white;
   transform: translateX(-100%);
   transition: transform 0.3s ease-in-out;
   z-index: 1001;
   box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
   display: flex;
   flex-direction: column;
}

.mobile-sidebar.open {
   transform: translateX(0);
}

.sidebar-header {
   display: flex;
   align-items: center;
   justify-content: space-between;
   padding: 20px;
   border-bottom: 1px solid #e5e7eb;
}

.sidebar-title {
   font-size: 20px;
   font-weight: 700;
   color: #1f2937;
   margin: 0;
}

.sidebar-close-btn {
   background: none;
   border: none;
   font-size: 24px;
   color: #6b7280;
   cursor: pointer;
   padding: 4px;
   line-height: 1;
}

.sidebar-menu {
   flex: 1;
   padding: 16px;
   display: flex;
   flex-direction: column;
   gap: 8px;
}

.sidebar-item {
   width: 100%;
   padding: 14px 16px;
   background: white;
   border: 1px solid #e5e7eb;
   border-radius: 8px;
   font-size: 16px;
   font-weight: 500;
   color: #1f2937;
   cursor: pointer;
   text-align: left;
   transition: all 0.2s;
}

.sidebar-item:hover {
   background: #f9fafb;
   border-color: #3b82f6;
}

.sidebar-item:active {
   background: #f3f4f6;
}

/* 페이지 제목 */
.schedule-page-title {
   font-size: 20px;
   font-weight: 700;
   color: #1f2937;
   padding: 16px 20px 12px 20px;
   background: white;
   border-bottom: 2px solid #e5e7eb;
   display: flex;
   align-items: center;
   justify-content: space-between;
}

.schedule-page-title span {
   font-size: 20px;
   font-weight: 700;
}

.top-edit-buttons {
   display: flex;
   gap: 8px;
}

.edit-button {
   padding: 6px 12px;
   font-size: 13px;
   font-weight: 600;
   border-radius: 8px;
   border: none;
   background: #f3f4f6;
   color: #4b5563;
   cursor: pointer;
   transition: all 0.2s;
   white-space: nowrap;
}

.edit-button:hover {
   background: #e5e7eb;
}

.save-button {
   background: #dcfce7;
   color: #15803d;
}

.save-button:hover {
   background: #bbf7d0;
}

.clear-button {
   background: #fee2e2;
   color: #dc2626;
}

.clear-button:hover {
   background: #fecaca;
}

.cancel-button {
   background: #f3f4f6;
   color: #6b7280;
}

/* 캘린더 색상 범례 */
.calendar-legend {
   display: flex;
   gap: 16px;
   justify-content: center;
   padding: 4px 0;
   font-size: 12px;
   color: #6b7280;
}

.legend-item {
   display: flex;
   align-items: center;
   gap: 4px;
}

.legend-dot {
   width: 8px;
   height: 8px;
   border-radius: 50%;
   display: inline-block;
}

.calendar-container {
   height: 55%; /* 상단 55% 고정 */
   flex: none; /* flex-grow 방지 */
   padding: 0;
   overflow: hidden;
   position: relative;
   background: #f9fafb;
   border-bottom: 1px solid #e5e7eb;
}

.calendar-wrapper {
   height: 100%;
   background: white;
   position: relative;
   z-index: 10;
   /* transform은 JS에서 제어 */
}

/* 잡아당길 때 보이는 안내 문구 */
.pull-indicator {
   position: absolute;
   left: 0;
   right: 0;
   height: 50px;
   display: flex;
   align-items: center;
   justify-content: center;
   font-size: 14px;
   font-weight: 600;
   color: #6b7280;
   z-index: 5;
}

.pull-indicator.top {
   top: 0;
}

.pull-indicator.bottom {
   bottom: 0;
}

/* FullCalendar 모바일 최적화 스타일 */
.fc {
   font-size: 14px;
}

.fc .fc-toolbar {
   display: flex !important;
   justify-content: space-between !important;
   align-items: center !important;
   flex-wrap: nowrap !important;
   gap: 4px;
   margin-bottom: 16px;
}

.fc .fc-toolbar-title {
   font-size: 15px !important;
   font-weight: 700;
   color: #1f2937;
   white-space: nowrap;
   overflow: hidden;
   text-overflow: ellipsis;
   max-width: 120px;
   text-align: center;
}

.fc .fc-button {
   padding: 4px 8px !important;
   font-size: 12px !important;
   border-radius: 6px;
   border: 1px solid #d1d5db;
   background: white;
   color: #374151;
   transition: all 0.2s;
   white-space: nowrap;
}

/* 월 뷰일 때는 '월'로 돌아가는 버튼 숨기기 (부자연스러움 해소) */
.view-dayGridMonth .fc-backToMonth-button {
   display: none !important;
}

/* 주/일 뷰일 때만 버튼 표시 및 스타일 조정 */
.fc .fc-backToMonth-button {
   background: #f3f4f6 !important;
   border-color: #e5e7eb !important;
   color: #4b5563 !important;
   font-weight: 700 !important;
}

.fc .fc-button:hover {
   background: #f3f4f6;
}

.fc .fc-button-primary {
   background: #3b82f6;
   border-color: #3b82f6;
   color: white;
}

.fc .fc-button-primary:hover {
   background: #2563eb;
   border-color: #2563eb;
}

.fc .fc-button-active {
   background: #3b82f6 !important;
   border-color: #3b82f6 !important;
   color: white !important;
}

.fc .fc-daygrid-day {
   cursor: pointer;
}

.fc .fc-daygrid-day:hover {
   background: #f9fafb;
}

/* ===================================
   FullCalendar 이벤트 스타일 (뷰별 분기)
   =================================== */

/* 공통: 이벤트 텍상 색상 */
.fc-event {
   color: #fff !important;
}

/* 1. 월간 뷰 (DayGrid): 가느다란 줄(Line) 스타일 */
.fc-daygrid-view .fc-event {
   background: transparent !important;
   border: none !important;
   padding: 0 !important;
   box-shadow: none !important;
   cursor: pointer;
   display: flex;
   align-items: center;
   height: auto !important;
   margin: 1px 0 !important;
}

.fc-daygrid-view .event-line-marker {
   display: block !important;
}

/* 2. 주/일간 뷰 (TimeGrid): 꽉 찬 블록 스타일 */
.fc-timegrid-view .fc-event {
   border-radius: 4px !important;
   padding: 2px 4px !important;
   border: none !important;
   box-shadow: 0 1px 2px rgba(0,0,0,0.1) !important;
   opacity: 0.9;
}

.fc-timegrid-view .event-line-marker {
   display: none !important; /* TimeGrid에서는 라인 마커 숨김 */
}

/* TimeGrid 이벤트 내부 텍스트 복구 */
.fc-timegrid-event .fc-event-main {
   padding: 2px;
   font-size: 11px;
   font-weight: 600;
}

.fc .fc-daygrid-event-h-harness {
   margin-top: 1px !important;
}

.fc .fc-col-header-cell {
   padding: 8px 4px;
   font-weight: 600;
   color: #6b7280;
   font-size: 12px;
}

.fc .fc-daygrid-day-number {
   padding: 8px;
   font-size: 14px;
   color: #374151;
}

.fc .fc-day-today {
   background: #eff6ff !important;
}

.fc .fc-day-today .fc-daygrid-day-number {
   color: #3b82f6;
   font-weight: 700;
}

/* 주말 스타일 */
.fc .fc-day-sat {
   color: #3b82f6;
}

.fc .fc-day-sun {
   color: #ef4444;
}

/* 반응형 조정 */
@media (max-width: 480px) {
   .schedule-page-title {
      padding: 12px 16px;
      font-size: 18px;
   }
   
   .calendar-container {
      padding: 12px;
   }

   .fc .fc-toolbar-title {
      max-width: 90px;
      font-size: 13px !important;
   }

   .fc .fc-button {
      padding: 4px 6px !important;
      font-size: 11px !important;
   }
}

/* ===================================
   화면 분할 (Split View - 주/일간 뷰용)
   =================================== */
.mobile-calendar-view.split-mode .calendar-container {
   height: 50vh !important; /* 상단 50% */
   flex: none;
   border-bottom: 1px solid #e5e7eb;
   overflow-y: auto; /* 캘린더 내부 스크롤 활성화 */
}

.split-view-list {
   flex: 1; /* 나머지 50% */
   background: white;
   display: flex;
   flex-direction: column;
   padding: 16px 20px;
   overflow: hidden; /* 컨테이너 자체 스크롤은 방지 */
}

.split-list-scroll-area {
   flex: 1;
   overflow-y: auto; /* 리스트 부분만 스크롤 */
   -webkit-overflow-scrolling: touch;
}

.split-list-header {
   font-size: 16px;
   font-weight: 700;
   color: #1f2937;
   margin-bottom: 12px;
   padding-bottom: 8px;
   border-bottom: 2px solid #f3f4f6;
}

.split-list-item {
   display: flex;
   align-items: center;
   padding: 12px 0;
   border-bottom: 1px solid #f3f4f6;
}

.split-item-time {
   width: 100px;
   font-size: 14px;
   font-weight: 600;
   color: #4b5563;
   flex-shrink: 0;
}

.split-item-content {
   flex: 1;
   padding: 8px 12px;
   border-radius: 8px;
   color: white;
   font-size: 14px;
   font-weight: 500;
}

.split-no-events {
   text-align: center;
   color: #9ca3af;
   padding: 40px 0;
   font-size: 14px;
}

/* ===================================
   하단 상세 시트 (Timeline - 월간 뷰용)
   =================================== */
.date-detail-sheet {
   position: fixed;
   bottom: 0;
   left: 0;
   right: 0;
   height: 45vh; /* 화면의 45% 차지 */
   background: white;
   border-top-left-radius: 20px;
   border-top-right-radius: 20px;
   box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);
   z-index: 100;
   display: flex;
   flex-direction: column;
   animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
   from { transform: translateY(100%); }
   to { transform: translateY(0); }
}

@keyframes fadeInUp {
   from { opacity: 0; transform: translateX(-50%) translateY(20px); }
   to { opacity: 1; transform: translateX(-50%) translateY(0); }
}

.detail-header {
   padding: 16px 20px;
   border-bottom: 1px solid #e5e7eb;
   display: flex;
   justify-content: space-between;
   align-items: center;
   background: #f9fafb;
   border-top-left-radius: 20px;
   border-top-right-radius: 20px;
}

.detail-header h3 {
   margin: 0;
   font-size: 18px;
   font-weight: 700;
   color: #1f2937;
}

.timeline-container {
   flex: 1;
   display: flex;
   overflow-y: auto; /* 세로 스크롤 허용 */
   padding: 10px;
   position: relative;
}

.time-axis {
   width: 50px;
   position: relative;
   border-right: 1px solid #e5e7eb;
   height: 1200px; /* 18시간 * 60px/시간 충분한 높이 */
}

.time-slot {
   position: absolute;
   width: 100%;
   text-align: right;
   padding-right: 8px;
   font-size: 12px;
   color: #6b7280;
   transform: translateY(-50%); /* 텍스트 수직 중앙 정렬 */
}

.events-area {
   flex: 1;
   position: relative;
   height: 1200px; /* time-axis와 동일한 높이 */
}

.grid-line {
   position: absolute;
   left: 0;
   right: 0;
   height: 1px;
   background-color: #f3f4f6;
}

.timeline-event-block {
   position: absolute;
   left: 4px;
   right: 4px;
   border-radius: 4px;
   padding: 4px 8px;
   color: white;
   font-size: 12px;
   overflow: hidden;
   box-shadow: 0 1px 3px rgba(0,0,0,0.1);
   border-left: 3px solid rgba(0,0,0,0.2);
}

.event-info {
   display: flex;
   flex-direction: column;
}

.event-title {
   font-weight: 700;
   white-space: nowrap;
   overflow: hidden;
   text-overflow: ellipsis;
}

.event-time {
   font-size: 10px;
   opacity: 0.9;
}

.no-events-message {
   position: absolute;
   top: 50%;
   left: 50%;
   transform: translate(-50%, -50%);
   color: #9ca3af;
   font-size: 14px;
}

/* ===================================
   일정 관리 섹션 (기존 스타일 유지)
.management-section {
   padding: 16px;
   background: white;
}

.section-tabs {
   margin-bottom: 16px;
}

.section-title {
   font-size: 20px;
   font-weight: 700;
   color: #1f2937;
   margin: 0;
}

/* 선호시간/개인시간 섹션 컨테이너 */
.sections-container {
   display: flex;
   gap: 16px;
   margin-bottom: 20px;
   flex-direction: row; 
   overflow-x: auto; /* 내용이 많으면 스크롤 */
}

.preference-section,
.personal-section {
   flex: 1;
   min-width: 0; /* Flexbox에서 줄어들 수 있게 허용 */
   background: white;
   border-radius: 12px;
   padding: 16px;
   box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.subsection-title {
   font-size: 14px;
   font-weight: 600;
   color: #1f2937;
   margin-bottom: 8px;
   white-space: nowrap;
}

.section-description {
   font-size: 12px;
   color: #6b7280;
   margin-bottom: 12px;
   line-height: 1.4;
   word-break: keep-all;
}

/* 모바일 반응형 - 작은 화면 조정 */
@media (max-width: 480px) {
   .sections-container {
      gap: 8px;
   }
   
   .preference-section,
   .personal-section {
      padding: 12px;
   }
}
